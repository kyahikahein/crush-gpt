<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="logo.png">
	<title>Crush-GPT</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Name Collection Modal -->
    <div class="name-modal" id="nameModal">
        <div class="name-modal-content">
            <div class="modal-title">ğŸ’• Let's Set Up Your Crush Experience</div>
            <div class="modal-subtitle">
                What's your crush's name? This will make the chat feel more personal and realistic.
                <br><small>Don't worry, this stays completely private on your device.</small>
            </div>
            <input type="text" class="name-input" id="crushNameInput" placeholder="Enter their name..." maxlength="20">
            <div class="modal-buttons">
                <button class="modal-btn secondary" id="skipNameBtn">Skip (use random)</button>
                <button class="modal-btn primary" id="confirmNameBtn">Let's Start!</button>
            </div>
        </div>
    </div>

    <div class="app">
        <!-- Enhanced Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <button class="sidebar-toggle" id="sidebarToggle">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/>
                    </svg>
                </button>
                <button class="new-chat-btn" id="newChatBtn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                    </svg>
                    <span>New Chat</span>
                </button>
            </div>
            
            <div class="chat-history" id="chatHistory">
                <div class="chat-item active">
                    <div class="chat-item-icon">ğŸ’•</div>
                    <div class="chat-item-content">
                        <div class="chat-preview">Current Chat</div>
                        <div class="chat-time">now</div>
                    </div>
                </div>
                <div class="chat-item" data-conversation="previous">
                    <div class="chat-item-icon">ğŸ’¬</div>
                    <div class="chat-item-content">
                        <div class="chat-preview">Previous Attempts</div>
                        <div class="chat-time">2 days ago</div>
                    </div>
                </div>
                <div class="chat-item" data-conversation="ignored">
                    <div class="chat-item-icon">ğŸ˜­</div>
                    <div class="chat-item-content">
                        <div class="chat-preview">More Ignored Messages</div>
                        <div class="chat-time">1 week ago</div>
                    </div>
                </div>
            </div>
            
            <div class="sidebar-bottom">
                <div class="user-info">
                    <img src="https://pbs.twimg.com/profile_images/1956422441569312770/OJe7wx2f_400x400.jpg" 
                         alt="Your Profile" 
                         class="avatar-img"
                         onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="fallback-avatar" style="display: none;">U</div>
                    <div class="user-details">
                        <div class="username">You</div>
                        <div class="user-status">Forever hopeful ğŸ¥°</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Chat Area -->
        <div class="main-chat">
            <!-- Header -->
            <div class="chat-header">
                <button class="sidebar-toggle mobile-sidebar-toggle" id="mobileSidebarToggle">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/>
                    </svg>
                </button>
                <div class="chat-title">
                    <div class="crush-avatar" id="crushAvatar">S</div>
                    <div class="title-info">
                        <div class="name" id="crushDisplayName">Sana</div>
                        <div class="status" id="statusText">online (but ignoring you) ğŸ˜”</div>
                    </div>
                </div>
            </div>

            <!-- Messages Container -->
            <div class="messages-container" id="messagesContainer">
                <div class="welcome-screen">
                    <div class="welcome-header">
                        <div class="welcome-title">Crush-GPT</div>
                        <div class="welcome-subtitle">Experience the authentic frustration of modern digital relationships</div>
                    </div>
                </div>
            </div>

            <!-- Typing Indicator -->
            <div class="typing-indicator" id="typingIndicator">
                <div class="typing-avatar" id="typingAvatar">S</div>
                <div class="typing-text">
                    <span id="typingName">Sana</span> is typing
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="input-area">
                <div class="input-container">
                    <textarea 
                        id="messageInput" 
                        placeholder="Message Sana..."
                        rows="1"
                    ></textarea>
                    <button class="send-btn" id="sendBtn" disabled>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M2 21l21-9L2 3v7l15 2-15 2v7z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Stats Panel -->
        <div class="stats-panel" id="statsPanel">
            <div class="stats-header">ğŸ“Š Reality Check</div>
            <div class="stat-item">
                <span>Messages sent</span>
                <span id="messagesSent">0</span>
            </div>
            <div class="stat-item">
                <span>Messages read</span>
                <span id="messagesRead">0</span>
            </div>
            <div class="stat-item">
                <span>Replies received</span>
                <span id="repliesReceived" class="highlight">0</span>
            </div>
            <div class="stat-item">
                <span>Hope level</span>
                <span id="hopeLevel">High ğŸ¥°</span>
            </div>
            <div class="stat-item">
                <span>Self-respect</span>
                <span id="selfRespect">Critical ğŸ’…ğŸ»</span>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>